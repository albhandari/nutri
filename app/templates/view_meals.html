<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/homepage.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>


<header>
    <ul>
        <li><a class="active" href="/home">YoFit</a></li>
        <li><a class="active" href="/createMeal">Add Meal</a></li>
        <li><a class="active" href="/viewMeals">View Meals</a></li>
        <li><a class="active" href="/createWorkout">Add Workout</a></li>
        <li><a class="active" href="/viewWorkouts">View Workouts</a></li>
        <li><a class="active" href="/profile">Profile</a></li>
      </ul>
</header>

  {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-primary" role="alert">
                    {{message}}
                </div>
            {% endfor %}
        {% endif %}
  {% endwith %}

<body>


  <div class="card" style = "width: 100%; background:rgba(255, 255, 255, 0.6); margin-top: -17px;">
    <div class="card-header" style = "background:rgb(235, 233, 233);">
      View Meals
    </div>
    <div class="card-body" style = "background:rgba(0,0,0,0);">
        <div class="row" style = "background:rgba(0,0,0,0);">
            {% for meal in all_meals %}
            <div class="col-sm-6" style = "background:rgba(0,0,0,0); width: fit-content;">
              <div class="card" style ="min-width: 250px;">
                <div class="card-body">
                  <h5 class="card-title">{{meal.name}}</h5>
                  <p class = "card-text"> Total Calories: {{meal.meal_calories}} </p>
                  <p class="card-text">Total carbs: {{meal.meal_carbs}}</p>
                  <p class="card-text">Total protein: {{meal.meal_protien}}</p>
                  <p class="card-text"> Total fat: {{meal.meal_fat}} </p>
                  <a href="/editMeal/{{meal.id}}" class="btn btn-primary">Edit Meal</a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
    </div>
  </div>

  <br>
  <br>
  

  <div class="card" style = "width: 100%; background:rgba(255, 255, 255, 0.6);">
    <div class="card-header" style = "background:rgb(235, 233, 233);">
      Total Nutrient Contents in Last 3 Meals
    </div>
    <div class="card-body" style = "background:rgba(0,0,0,0);">
        <div class="row" style = "background:rgba(0,0,0,0);">
          <div class="progress">
            <div class="progress-bar" role="progressbar" aria-label="Example with label" style="width: {{calPer}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Total Calories: {{cal}}</div>
          </div>
          <br>
          <br>
          <div class="progress">
            <div class="progress-bar" role="progressbar" aria-label="Example with label" style="width: {{carPer}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Total Carbs: {{carb}}</div>
          </div>
          <br>
          <br>
          <div class="progress">
            <div class="progress-bar" role="progressbar" aria-label="Example with label" style="width: {{proPer}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Total Protein: {{pro}}</div>
          </div>

          <br>
          <br>
          <div class="progress">
            <div class="progress-bar" role="progressbar" aria-label="Example with label" style="width: {{fatPer}}%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">Total Fat: {{fat}}</div>
          </div>
          
    </div>
  </div>


</body>
</html>

